<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
<head>
  <meta charset="UTF-8">
  <title>Justin (Jiapan 贾胖) - Blog</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="这是一个面包超人的技术学习心得 blog">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <!-- Schema.org markup for Google+ --> 
  <meta itemprop="name" content="Justin (Jiapan 贾胖) - Blog"> 
  <meta itemprop="description" content="这是一个面包超人的技术学习心得 blog"> 
  <meta itemprop="image" content="https://blog.jiapan.tw/logo.png">

  <!-- Open Graph data --> 
  <meta property="og:title" content="Justin (Jiapan 贾胖) - Blog" /> 
  <meta property="og:type" content="article" /> 
  <meta property="og:url" content=" https://blog.jiapan.tw/" />
  <meta property="og:image" content="https://blog.jiapan.tw/logo.png" />
  <meta property="og:description" content="这是一个面包超人的技术学习心得 blog" /> 
  <meta property="og:site_name" content="Justin (Jiapan 贾胖) - Blog" /> 
  <meta property="article:published_time" content="2018-0513T07:30:00+00:00" /> 
  <meta property="article:modified_time" content="2018-0513T07:30:00+00:00" /> 
  <meta property="article:section" content="Article Section" /> 
  <meta property="article:tag" content="backend,frontend,devops,ops" /> 

  <link rel="shortcut icon" type="image/jpg" href="//blog.jiapan.tw/logo.jpeg"/>
  <link rel="stylesheet" href="//unpkg.com/docsify/lib/themes/vue.css">
  <link rel="stylesheet" href="//unpkg.com/gitalk/dist/gitalk.css">
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-W8JZ4N2');</script>
  <!-- End Google Tag Manager -->
</head>
<body>
  <script src="//unpkg.com/docsify-edit-on-github@1.0.1/index.js"></script>
  <div id="app"></div>
  <script>
    var plugins = []
    var repo = 'https://github.com/justintien/blog'
    if (EditOnGithubPlugin) {
      plugins.push(EditOnGithubPlugin.create(repo + '/blob/master/'))
    }
    var config = {
      ga: 'UA-59277879-2',
      disqus: 'doc-jiapan',
      name: 'Justin (Jiapan 贾胖)',
      repo: repo,
      loadSidebar: 'sidebar.md',
      subMaxLevel: 5,
      // loadNavbar: true,
      coverpage: 'coverpage.md',
      // basePath: '',
      routerMode: 'history', // history mode, need server support
      plugins: plugins,
      alias: {
        '/.*/sidebar.md': '/sidebar.md' // See #301
      }
    }
    if (window.location.hostname.match(/(localhost|127\.0\.0\.1)/)) {
      config.ga = 'xxx'
    }
    window.$docsify = config
    if (typeof navigator.serviceWorker !== 'undefined') {
      navigator.serviceWorker.register('sw.js')
    }
  </script>
  <script src="//unpkg.com/docsify/lib/docsify.min.js"></script>
  <script src="//unpkg.com/docsify/lib/plugins/search.min.js"></script>
  <script src="//unpkg.com/docsify/lib/plugins/emoji.min.js"></script>
  <script src="//unpkg.com/docsify/lib/plugins/zoom-image.min.js"></script>
  <script src="//unpkg.com/docsify-copy-code@2"></script>
  <script src="//unpkg.com/docsify-plantuml/dist/docsify-plantuml.min.js"></script>
  <script src="//unpkg.com/docsify/lib/plugins/ga.min.js"></script>
  <script src="//unpkg.com/docsify/lib/plugins/disqus.min.js"></script>
  <script src="//unpkg.com/gitalk/dist/gitalk.min.js"></script>
  <script src="//unpkg.com/docsify/lib/plugins/gitalk.min.js"></script>
  <!-- <script src="//cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.10.0/js/md5.min.js"></script> -->

  <script>
    // gitalk
    const gitalk = new Gitalk({
      clientID: '4b455bf820f5c7fbd2c4',
      clientSecret: '9258dfb876991ecdb78ea3bad405563e20806f53',
      repo: 'blog',
      owner: 'justintien',
      admin: ['justintien'],
      // facebook-like distraction free mode
      distractionFreeMode: false,
      id: location.pathname // 限制长度为 50, 若超过 可 md5
    })

    var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;

    var dom = document.querySelector('body');

    var observer = new MutationObserver(function(mutations) {
      mutations.forEach(function(mutation) {
        if (mutation.type === 'attributes' && mutation.attributeName === 'data-page') {
            console.log('[body][data-page] changed');
            let gitalkDom = document.querySelector('#gitalk-container');
            if (gitalkDom) {
                gitalkDom.remove()
                // gitalk re-redner
                gitalk.options.id = location.pathname;
                let dom = Docsify.dom
                let div = dom.create('div')
                div.id = 'gitalk-container'
                const main = dom.getNode('#main')
                div.style = `width: ${main.clientWidth}px; margin: 0 auto 20px;`
                dom.appendTo(dom.find('.content'), div)
                const script = dom.create('script')
                const content = `gitalk.render('gitalk-container')`
                script.textContent = content
                dom.appendTo(dom.body, script)
            }
        }
      });
    });

    observer.observe(dom, {
      attributes: true //configure it to listen to attribute changes
    });
  </script>
  <script src="//unpkg.com/prismjs/components/prism-ini.min.js"></script>
  <script src="//unpkg.com/prismjs/components/prism-json.min.js"></script>
  <script src="//unpkg.com/prismjs/components/prism-diff.min.js"></script>
  <script src="//unpkg.com/prismjs/components/prism-bash.min.js"></script>
  <script src="//unpkg.com/prismjs/components/prism-http.min.js"></script>
  <script src="//unpkg.com/prismjs/components/prism-css.min.js"></script>
  <script src="//unpkg.com/prismjs/components/prism-php.min.js"></script>
  <script src="//unpkg.com/prismjs/components/prism-javascript.min.js"></script>
  <script src="//unpkg.com/prismjs/components/prism-java.min.js"></script>
  <script src="//unpkg.com/prismjs/components/prism-graphql.min.js"></script>
  <script src="//unpkg.com/prismjs/components/prism-sql.min.js"></script>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W8JZ4N2"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
</body>
</html>
